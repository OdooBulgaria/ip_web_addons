<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <template id="account" name="My Account">
            <t t-call="website.layout">
                <t t-set="head">
                    <link rel="stylesheet" href="/ip_web/static/src/css/account.css" />
                    <script type="text/javascript" src="/ip_web/static/src/js/website_account.js"></script>
                    <t t-raw="head or ''"/>
                </t>
                <t t-set="additional_title">My Account</t>
                <div class="container">

                    <div id="tabs">
                        <ul>
                            <li><a href="#tabs-1">Orders</a></li>
                            <li><a href="#tabs-2">Invoices</a></li>
                            <li><a href="#tabs-3">Deliveries</a></li>
                            <li><a href="#tabs-4">Auto Ships</a></li>
                            <li><a href="#tabs-5">Transactions</a></li>
                            <li><a href="#tabs-6">Returns</a></li>
                        </ul>

                        <div id="tabs-1">
                            <h3>My Orders</h3>
                            <table class="table table-striped">
                                <tr>
                                    <th>Name</th>
                                    <th>Date</th>
                                    <th>Total Price</th>
                                    <th class="action">Download</th>
                                </tr>
                                <t t-foreach="sale_orders" t-as="sales_order">
                                <tr class="row-hyperlink">
                                    <td><t t-esc="sales_order.name" /></td>
                                    <td><t t-esc="sales_order.date_order" /></td>
                                    <td><t t-esc="sales_order.amount_total" /></td>
                                    <td class="action"><a class="btn btn-primary" t-attf-href="/account/report/sale.order/#{sales_order.id}/sale.order">Download</a></td>
                                </tr>
                                </t>
                                <tr t-if="not len(sale_orders)"><td class="table-empty" colspan="4">You haven't made any orders</td></tr>
                            </table>
                        </div>

                        <div id="tabs-2">
                            <h3>My Invoices</h3>
                            <table class="table table-striped">
                                <tr>
                                    <th>Name</th>
                                    <th>Date</th>
                                    <th class="action">Download</th>
                                </tr>
                                <t t-foreach="invoices" t-as="invoice">
                                <tr class="row-hyperlink">
                                    <td><t t-esc="invoice.name" /></td>
                                    <td><t t-esc="invoice.date_invoice" /></td>
                                    <td class="action"><a class="btn btn-primary" t-attf-href="/account/report/account.invoice/#{invoice.id}/account.invoice">Download</a></td>
                                </tr>
                                </t>
                                <tr t-if="not len(invoices)"><td class="table-empty" colspan="4">You don't have any invoices</td></tr>
                            </table>
                        </div>

                        <div id="tabs-3">
                            <h3>My Deliveries</h3>
                            <table class="table table-striped">
                                <tr>
                                    <th>Sales Order</th>
                                    <th>Fastest Expected Delivery Date</th>
                                    <th>Status</th>
                                    <th>Tracking Number</th>
                                    <th class="action">Download</th>
                                </tr>
                                <t t-foreach="deliveries" t-as="delivery">
                                <tr class="row-hyperlink">
                                    <td><t t-esc="delivery.origin" /></td>
                                    <td><t t-esc="delivery.min_date" /></td>
                                    <td><t t-esc="delivery.state" /></td>
                                    <td><t t-esc="delivery.tracking_number" /></td>
                                    <td class="action"><a class="btn btn-primary">Download</a></td>
                                </tr>
                                </t>
                                <tr t-if="not len(deliveries)"><td class="table-empty" colspan="5">You don't have any deliveries</td></tr>
                            </table>
                        </div>

                        <div id="tabs-4">
                            <h3>My Auto-Ships</h3>
                            <table class="table table-striped">
                                <tr>
                                    <th>Name</th>
                                    <th>Interval</th>
                                    <th>End Date</th>
                                    <th>Number Remaining</th>
                                    <th>Product</th>
                                    <th>Price</th>
                                    <th>Quantity</th>
                                    <th class="action"></th>
                                </tr>
                                <t t-foreach="auto_ships" t-as="auto_ship">
                                <tr class="row-hyperlink">
                                    <td><t t-esc="auto_ship.name" /></td>
                                    <td><t t-esc="auto_ship.name" /></td>
                                    <td><t t-esc="auto_ship.name" /></td>
                                    <td><t t-esc="auto_ship.name" /></td>
                                    <td><t t-esc="auto_ship.name" /></td>
                                    <td><t t-esc="auto_ship.name" /></td>
                                    <td><t t-esc="auto_ship.name" /></td>
                                    <td><t t-esc="auto_ship.name" /></td>
                                    <td class="action">
                                        <a class="btn btn-primary">Update</a>
                                        <br />
                                        <a class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this auto-ship? You will no longer receive deliveries from it.')">Delete</a>
                                    </td>
                                </tr>
                                </t>
                                <tr t-if="not len(auto_ships)"><td class="table-empty" colspan="9">You haven't setup any auto shipments</td></tr>
                            </table>
                        </div>

                        <div id="tabs-5">
                            <h3>My Transactions</h3>
                            <table class="table table-striped">
                                <tr>
                                    <th>Name</th>
                                </tr>
                                <t t-foreach="transactions" t-as="transaction">
                                <tr class="row-hyperlink">
                                    <td><t t-esc="return.name" /></td>
                                </tr>
                                </t>
                                <tr t-if="not len(transactions)"><td class="table-empty" colspan="1">You haven't made any transactions</td></tr>
                            </table>
                        </div>

                        <div id="tabs-6">
                            <h3>My Returns</h3>
                            <table class="table table-striped">
                                <tr>
                                    <th>Name</th>
                                </tr>
                                <t t-foreach="returns" t-as="return">
                                <tr class="row-hyperlink">
                                    <td><t t-esc="return.name" /></td>
                                </tr>
                                </t>
                                <tr t-if="not len(returns)"><td class="table-empty" colspan="1">You haven't returned anything</td></tr>
                            </table>
                        </div>

                    </div>
                    
                </div>
            </t>
        </template>

    </data>
</openerp>
